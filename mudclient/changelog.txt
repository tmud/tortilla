------------------------------------------------------------------------------------------------------------------------------------------
История изменений:
------------------------------------------------------------------------------------------------------------------------------------------
v1.02
Исправлены ошибки:
- Исправлена неправильная отрисовка игровой строки в клиенте, если в строке встречался символ
амперсанда (&).
- Исправлена ошибка в работе lua-триггеров, которая могла вызвать пропажу строк и многократное 
срабатывание самого триггера.
Новые возможности:
- Изменилось окно, которое появляется при закрытии настроек, если не был сохранен текущий триггер,
или если изменился шаблон строки триггера. Теперь можно сохранить/не сохранять новый триггер или 
отменить закрытие окна настроек клиента.

v1.0
Новые возможности:
- Улучшена совместимость клиента с MacOS и Linux (запуск в Wine).
- Добавлен плагин - игра Сапер (плагин от играющих).
Расширение SDK
- Добавлена функция make_class_object для создания объектов на базе 
классов (вариант рализации ООП на луа). См. в папке модулей. 
Также на базе этой функции написан класс для двумерных массивов в 
качестве примера.

v1.0 beta18
Исправлены ошибки:
- Ошибка при запуске плагина лора.
Новые возможности:
- Замены (sub) теперь поддерживают цвет. Можно задать цвет отдельным частям подставляемого
текста, см. справку (#help sub).
- Расширена команда #var. Появились переменные-разделители (точка, подчеркивание, доллар,
пустой символ), которые позволяют отделить имя переменной от текста (т.е. не интерпретировать
данные символы, как часть переменной).
- Улучшена работа команд #output, #woutput. Теперь учитывается количество параметров между 
параметрами, чтобы точно соответствовать исходной строке. Количество пробелов перед 
параметром цвета не учитывается. Один пробел по прежнему необходим перед и после 
параметра с цветом в качестве разделителя. Определение параметра с цветом стал строже.
- Плагин реконнекта можно настроить чтобы отключить переподключение, если окно клиента активно.
- Окно алерта в плагине helpers теперь закрывается по Esc, Enter. Есть автоперенос длинных 
строк, есть принудительный перенос на новую строку (\n).
Расширение SDK (см. документацию)
В рендер (render) добавлена возможность рисовать точки, линии, эллипсы, круги.
В window и panel добавлен метод attachMouse для работы с мышкой в плагинах.

v1.0 beta16
Исправлены ошибки:
- Неправильно работало #$var.
- Неправильно работали цепочки несколько макросов вложенные друг в друга.
- Неправильно работала команда #logn для html, при перезаписи уже открытого лога,
не записывалась таблица стилей.
- Ошибки saveTable, loadTable в sdk. Могли записаться служебные данные клиента.
- Ошибка vd:get, vd:set для цвета в блоках.
- Ошибка двойного включения mccp, которая мешала заходить на некторые западные мады.
Новые возможности:
- Теперь можно выделять текст в окне клиента прямоугольником (для копирования в 
буфер обмена). Это 2 режим работы, он предназначен для копирования таблиц и других
похожих данных. Включается через комбинацию Ctrl+Shift + мышь. Старый режим работает 
по прежнему через Shift + мышь.
- В заменах (subs) появилась поддержка параметров вида %(...)1
- В горячих клавишах и подсветках (в редакторе) появился приоритет.
- Группы теперь можно сортировать в нужном порядке. Сделано для удобства работы с
большим количеством групп. На порядок работы триггеров сортировка групп не влияет.
- Добавлены команды #clog, #clogn для записи чистого лога сервера (т.е. до триггеров,
замен и прочего), полностью идентично тому, как приходит информация от мад сервера.
- Добавлен плагин bellcmd. Он по команде #bell проигрывает звуковой сигнал.
- Добавлен плагин helpers. Он добавляет несколько команд в клиент, таких как 
включение/отключение групп по регулярке, выполнение команд если клиент активен/неактивен,
алерт окно в панель задач и другое.
- Добавлен плагин tick. Это тикер с большими цифрами.
- Все дополнительные плагины идут отдельным архивом на сайте клиента.
- Добавлен режим перевода вводимых команд на новую строку ( в общих настройках ).

v1.0 beta12
Новые возможности:
- Улучшена работа команды #math. Теперь команда считает выражения с одним операндом, 
т.е. дублирует в этом случае команду #var.
- Улучшена работа команды #hide. Она теперь корректно работает с переменными $var.
- В редакторе триггеров, при созданнии нового триггера, он добавляется после текущего.
- Добавлен индикатор активности таймеров в командной строке.
- Сделана поддержка запуска клиента из командной строки с указанием профиля для игры.
- Сделана галочка при создании/загрузке профиля для создания ярлыка на рабочем столе 
с указанием, что нужно загружать именно этот профиль.
- Переменные #var теперь можно задавать и на русском языке.
- Плагин tray теперь поддерживает несколько экземпляров клиента - теперь всплывающие сообщения
не накладываются друг на друга.
Изменения в SDK:
- Добавлены: string, string.format, string.sub, string.gsub, string.rep, string.reverse.

v1.0 beta10
Исправлены ошибки:
- Иногда неверно работала вставкп из буфера обмена в командную строку.
Новые возможности:
- Добавлены команды #wlock, #wunlock - для блокировки/разблокировки автоскролла
дополнительных (output) окон.
- Текст в окнах клиента немного поднят вверх, чтобы не сливался с нижней границей.
- Ошибка хмл при ошибке выводится в диалоговое окно.
- Расширен плагин status. Теперь для тикера плагина можно задавать несколько 
ключевых фраз.

v1.0 beta9
Исправлены ошибки:
- В параметры макросов(алиасы) попадали лишние пробелы.
- В определенных случаях неверно обрабытывались параметры алиасов.
Новые возможности:
- В редакторе триггеров, макросов и др. теперь можно менять приоритет одновременно у нескольких элементов,
  а также работают клавиши Home, Del (где актуально).
- Колесо мыши перебирает историю команд, если указатель мыши находится над командной строкой.
- Клиент перечитывает текущий профиль, если его выбрать в окне загрузки (нужно если профиль редактируется вручную).
- В триггерах и заменах (в строке результатов) поддерживаются переменные %%0-%%9. Они транслируются в %0-%9.
- Добавлен плагин enterb для ленивых. Кнопка Enter для мышки, написан по просьбе.
- Добавлен плагин autoalias. Подбор макроса, если есть пробелы в начале строки перед командой.
- Команда #savelog теперь подбирает имя файла, чтобы не перезаписать существующий файл.
Изменения в SDK:
- Добавлены: props.isClearCommandLine(), props.isShowSystemCommand(), activeoject:isGroupActive().

v1.0 beta6
Исправлены ошибки:
- При принудительном разрыве связи (#zap) в течении минуты нельзя было подключиться.
Новые возможности:
- Сделана поддержка комбинации Ctrl+колесо мыши. Открывает историю мада и сколлирует ее,
независимо от положения курсора мыши. Без Ctrl скроллируется окно, над которым находится 
курсор мышы.
- Плагин statusbar умеет теперь обновлять опыт по команде уровни в маде.
Изменения в SDK:
- Модуль триггер-до промпт строки(trprompt.lua) поддерживает фильтр промпт-строк.

v1.0 beta5
Исправлены ошибки:
- Замены (subs) могли срабатывать несколько раз, если есть триггеры(actions) на те же самые строчки.
- Поправлена работа плагинов status, prompt.
Новые возможности:
- Комбинация Ctrl+колесо мыши скроллирует историю мада.

v1.0 beta3
Исправлены ошибки:
- Замены (subs) не во всех случаях копировали цвет букв исходного блока (повтор).
Новые возможности:
- Если клиент распознает промпт строку, то на нее срабатывают триггеры, замены и другие элементы.
- Теперь замены, антизамены и фильтры срабатывают перед триггерами (actions).
Однако Lua-триггеры плагинов срабатывают как и прежде, до замен.
- Замены, антизамены и фильтры теперь реагируют на текст из команды #output.
- Сохраняется состояние и местоположение панели инструментов и меню.
- Добавлена команда #stop. Она предназначена для работы с триггерами (actions).
Команда отменяет все остальные триггеры для данной строки (как и команда #drop), 
однако строка попадает в окно клиента.

v1.0 beta2
Исправлены ошибки:
- Замены (subs) не во всех случаях копировали цвет букв исходного блока.
- Включение отключенных компонентов, если нажать ОК в настройках.
Новые возможности:
- Теперь клиент обрабатывает символ табуляции (оказалось, что есть мады, 
которые его используют).
- Добавлена вкладка с переменными (var) в окно настроек.
- Команда #component позволяет теперь переключать режим компонента на 
противоположный.
- Добавлена по просьбе команда-пустышка #none. Она ничего не делает, но ее
также нет в автоподстановке. Однако она может подставляться из истории команд.
Можно указывать любое количество параметров, все игнорируется.

v1.0 beta1
Новые возможности:
- Добавлена команда #savelog. Она сохраняет текст из окна клиента в файл в формате
html или текста.
- Добавлена команда #component, а также окно настроек для включения и выключения 
отдельных компонентов клиента.
- Расширен плагин spit. Он умеет записывать отдельные строки файлов из переменных и
считывать отдельные строки файлов в переменные клиента. Получилась индексная таблица,
удобно использовать в виде микро базы данных.
- Для кнопок в игровой панели (clickpad) можно задать подсказку, которая отображается
при наведении курсора мыши на кнопку.
- Замены (subs) теперь работают с цветом.
- В триггерах и др. элементах с переменными теперь можно работать как с массивом
(см. #help parameters).
- Новый плагин faq. Он выводит подсказки о том как работать с клиентом.
- Новый плагин timeline. Он добавляет текущее время в каждую игровую строку мада.
- Новый плагин trswitch. Он позволяет включать и выключать триггеры одним кликом.
Изменения в SDK (см. справку):
- Добавлены методы для работы с компонентами props.component(), compsupdated(), setComponent.
- Обновлены функции addButton, addMenu. Теперь они могу загружать иконки из файлов.

v0.99
Новые возможности:
- Улучшен плагин status. Он теперь умеет осчитывать время между тиками. Настройки 
плагина перенесены в gamedata,чтобы они не затирались при обновлении клиента.
- Улучшен плагин автопереноса, меньше ошибок при переносах.
- Улучшен плагин historyfilter. Настройки плагина перенесены в gamedata,
чтобы они не затирались при обновлении клиента.

v0.99beta4
Исправлены ошибки:
- При записи лога в формате html, в логе не отображался цвет фона букв.
Новые возможности:
- При подстановке параметров %0-%9 в триггерах теперь можно использовать их часть, т.е. 
можно удалять окончания. см справку #help parameters.
- Добавлена команда #load для загрузки профилей из командной строки клиента.
- Улучшен плагин спидвоков. Можно указывать русские имена и задавать комментарии.
- Улучшен плагин лора. Умеет перезаписывать существующие предметы в базе.
- Добавлен файл off.lst. С его помощью можно отключить те плагины, которые совсем 
не используются. Они не будут загружаться и отображаться в клиенте.
Изменения в SDK (см. справку):
- Для системного модуля добавлены методы получения текущего времени и даты на компьютере
system.getTime(), system.getDate().

v0.99beta3
Исправлены ошибки:
- Ошибка сериализации viewstring (затрагивает лор).
- Ошибка загрузки/сохранения данных в Lua (попадало окружение скрипта), для спидволка.
- Ошибка центровки автокарты в Былинах.
Новые возможности:
- Сворачивание клиента в трей (опция в общих настройках).
- Улучшен автосбор у Былин.

v0.99beta2
Исправлены ошибки:
- Неправильная работа с регулярками PCRE, если использовались переменные $var.
- Возможность падения клиента на регулярках, если в переменную попадала пустая строка.
- Не изменялся текст строки, если он менялся в Lua - триггере.
- Функция viewdata:print() выводила пустую строку.
Новые возможности:
- Добавлена опция для отключения перехода в меню по клавише Alt. Важно для тех у кого переключение 
раскладки клавиатуры также на клавише Alt. Для исключения ложных переходов в меню.
- Улучшен плагин автопереноса. Теперь он выводит напоминание о пересчете переносов, при смене шрифта, 
он также теперь умеет склеивать описания комнат, чтобы не возникали рваные края, а также использовалась 
вся ширина окна клиента.
- Улучшен плагин автореконнекта. Он обрывает связь для переподключения, если долго нет сетевой активности.
- Новые плагины для Былин: автосбор, автореск и автокарта. Отдельный архивом на сайте клиента.
Изменения в SDK (см. справку):
- Добавлено событие fontupdated, эта функция вызывается у плагинов при изменении шрифта.
- Добавлена функция tick, которая вызывается каждую секунду у активных плагинов, если есть подключение.
- Добавлены функции для viewdata и viewstring - insertBlock, copyBlock, setBlockColor, getBlockColor.
- Добавлена функции string:find, string:contain.
- Клиент выводит больше информации об ошибках при вызове функций API клиента в канал плагинов.
 
v0.99beta1
Исправлены ошибки:
- Неправильная работа с таймерами. Перезапуск всех таймеров, при создании, удалении любого таймера, в том числе групп.
Новые возможности:
- Добавлена команда #uptimer для перезапуска отдельного таймера сначала.
- Добавлена опция, которая отключает ошибку Неверная команда в триггерах. Удобно, если игровые настройки были импортированы 
и в триггерах вызываются команды, которых нет в черепахе. В общих настройках.
- Добавлена опция, которая позволяет выбирать любой шрифт, а не только пропорциональный. В окне настройки Шрифта и Цвета.
- Улучшен импорт сетов из jmc3.

v0.98
Новые возможности:
- Расширены таймеры. Теперь максимальный предел таймера увеличен до 9999.9 секунд.
Если идет отсчет таймера, то по команде #timer показывается отставшееся время до срабатывания.
- Триггеры теперь срабатывают на строки по команде #output, даже без наличия подключения к маду.
Удобно использовать для тестирования триггеров.
Изменения в SDK (см. справку):
- Добавлена команда isGroupActive.

v0.98rc2
Исправлены ошибки:
- Ошибка подстановки переменных в комады #hotkey, #action и т.д. если использовалось сокращение команды.
- Ошибка обработки переменных в командах-повторах #n.
- Ошибка крайне медленной загруки базы лора.
- Ошибка попадания в лог строк, которые были отброшены (дропнуты) триггерами.
Новые возможности:
- Изменена механика работы окон настроек для триггеров, макросов и т.д. Изменение группы не изменяет группу
текущего триггера, а открывает кнопки Заменить, Добавить. Это позволяет создавать одинаковые триггеры в разных
группах, а также переключаться между группами, без изменения текущего триггера.
- Текст, который выводится с помощью команды #output в главное окно клиента, теперь обрабатывается триггерами.
Комада #woutput триггерами, по прежнему не обрабатывается. Можно выбирать команду, в зависимости от задач.
- Добавлена поддержка записи логов в текстовом формате. См. Общие настройки. В лог пишется дата и время начала 
и окончания записи.
- Расширен конфиг плагина аффектов для мада Арда. Отслеживается большее количество аффектов.
Изменения в SDK (см. справку):
- Добавлена команда clearView для очистки окон клиента.

v0.98rc
Исправлены ошибки:
- Исправлена работа команды #if. Неверно отрабатывали некоторые условия равенства/неравенства.
- Ошибка с местоположением output-окон. Уменьшена минимально возможная высота/ширина для таких окон.
- Ошибка падения клиента при запуске, если в истории команд строка из пробелов.
- Ошибка в работе команд с повторами #n.
Новые возможности:
- Теперь клиент поддерживает несколько различных разрешений. Позволяет играть с одного профиля 
на разных компьютерах. Для каждого разрешения запоминаются местоположения окон и работающие плагины.
Удобно, например, если клиент запускается на разных компьютерах с облачного диска.
- Расширен плагин лора. Теперь он поддерживает авто-теги и обычные теги, задающиеся вручную.
Автотеги считаются с помощью скприпта в настройках. Лор теперь ищет предметы и по имени и по тегу. 
Автотеги позволяют, например, сделать поиск по материалу или аффектам. Обычные теги - 
для игроков, чтобы отмечать нужные им предметы.
- Добавлен мад Арда. Доработан плагин statusbar под этот мад.
Изменения в SDK (см. справку):
- Изменилась механика работы метода обработки игровой команды в плагинах (см. справку gamecmd).
- В плагин clickpad добавлены методы для управления кнопками из Lua-скриптов.
- Добавлена команда getVersion для получения информации о версии клиента плагинами.
- В клиент включен модуль (trprompt.lua), помогающий работать с данными от ключевой строки до промпт-строки.

v0.98 beta9
Исправлены ошибки:
- Ошибки в работе протокола msdp (в том числе поддержка русского языка, буквы я). Актуально длы Былин.
- В истории не удалялись начальные части строки после склейки с продолжением строки.
- Другие все найденные ошибки с отображением игровой информации.
- Ошибка с затиранием команды в настройках Горячих клавиш.
Новые возможности:
- Новый плагин cmdfilter. Он позволяет фильтровать игровые и системные команды от попадания их в окно клиента.
Остается только результат их работы. Удобно использовать для команд, которые часто вызываются, например в 
триггерах или в таймерах (#help cmdfilter).
- Новый плагин speedwalk. Позволяет записывать маршрут перемещения, сохранять в базу, а потом бегать по 
этим маршрутам. Помогает находить дорогу назад (проигрывает записанный маршрут в обратную сторону).
Теперь все алиасы-спидволки можно перенести в этот плагин. Отслеживает остановку на маршруте.
Требует настройку - список фраз, когда перемещение в соседнюю клетку не удалось (#help speedwalk).
- Плагин лора теперь понимает сокращения через точку, как это принято в мадах. Также работает поиск с пропуском
слов для длинных названий, например для Куртка из шкуры дракона, будет работать лор кур.драк.
- В папке resources/tmp находятся заготовки конфигурационных файлов для плагинов. Скорее всего нужна будет 
настройка под ваш мад. Можно еще посмотреть папку resources/profiles. Там может быть уже готовый конфиг для плагина
под ваш мад. Тогда его нужно переложить в папку gamedata, если конфига там нет.
- В sdk добавлена функция viewdata:dropString().

v0.98 beta8
Исправлены ошибки:
- Падение в плагине лора.
Новые возможности:
- Усовершенствован плагин лора. Он может теперь импортировать в себя данные из текстовых файлов, если 
для этого сделана нужная настройка. Запоминает список предметов из последнего поиска, если их было больше 1.
Теперь лор ищет предменты по сокращенному имени лучше, см. справку (#help lor).
Новые возможности в SDK:
- Для строки добавлены методы trim, only.

v0.98 beta7
Исправлены ошибки:
- При использовании команды #N не выполнялись следующие после нее команды.
- Улучшена работа команд #if (!= ~= ==), #math.
- Исправления в работе переменных $var с командами #action и т д. Переменные не транслируются для этих 
команд, т.к. эти команды добавляют триггеры в клиент.
- Исправлена ошибка со сбросом местоположения окна поиска.
Новые возможности:
- Написаны новые плагины: лор, аффекты на персонаже, инвентарь+экипировка. Для них нужны файлы 
настроек. А для этого нужны играющие люди. См. группу ВК для получения обновлений для плагинов и клиента.
- Новый плагин cmdfilter. Он фильтрует команды от попадания в окно клиента, оставляя только результат команды.
Удобно использовать для команд, работающие в таймерах.
- В клиент добавлена новая команда #plugin для управления плагинами из клиента (включение/выключение),
см. справку к клиенту (#help plugin). Очень удобная команда при написании плагинов.
- Добавлена команда #echo, как аналог команды #message для отключения уведомлений (эха) об изменении
триггеров и переменных. Эхо теперь отключено в начальных игровых профилях.
- Включена опция, которая поддерживает соединение, если игрок в афк. Это должно уменьшить количество 
обрывов и лагов после долгих пауз в игре. Это НЕ!!! влияет на сам мад сервер в вопросе отключения игрока, 
если он в афк. Опция относится к сети на уровне операционной системы.
- Переработан механизм работы с профилями, чтобы не затирать настройки при обновлении клиента.
Все шаблоны профилей переехали в папку resources. Теперь обновление клиента можно делать простой 
перезаписью файлов поверх старых файлов. Все старые настройки сохранятся (если настройки сделаны отдельно, 
не скрипте плагина).
Новые возможности в SDK:
- Доработан отладчик decoda до более менее стабильного рабочего состояния. Он стыкуется с клиентом и 
позволяет отлаживать плагины и модули на Lua прямо в клиенте. Отладчик находится в SDK.
- Незначительно изменились правила написания плагинов и модулей. Это понадобилось для поддержки 
decoda. Теперь имя плагина внутри скриптов можно использовать любое, важно только имя файла. 
Это изменение теперь также позволяет загружать несколько экземпляров одного плагина (если необходимо). 
Старые плагины работать не будут, их необходимо изменить в паре строк (см. SDK).
- Теперь клиент может загружать и сохранять свои настройки в формате Lua (loadTable, saveTable).
Формат определяется расширением файла. Если в расширении есть строка xml, то это xml, иначе Lua (см. SDK).
Это дает возможность использовать скрипты в найстройках.
- Для работы со строками string добавлось несколько новых функций.
- Изменилась сигнатура функции translateColors.
- Добавлены viewdata.deleteStrings, viewdata.insertString, viewdata.print, viewdata.setBlocksCount,
viewdata.createRef.
- Добавлен объект viewstring (отдельные строки viewdata).

v0.98 beta6
Исправлены ошибки:
- Редкое падение, при копировании текста в буфер обмена.
- Прыжки текста в истории мада, если какие-либо строки отбрасывались в фильтрах или плагинах.
- Ошибка с переменными в Lua-триггерах, если строки отрасывались в фильтрах или плагинах.
- Разрывы символов при игре в кодировке utf8. Когда символ разбивался на 2 знака вопроса.

Новые возможности:
- Сделана поддержка команды #N {команды}, где N - число (макс. 100). Это повтор команд N раз. 
  Не стоит злоупотреблять, может влиять на скорость работы клиента.
- Сделана поддержка поиска текста в окнах мад клиента. Горячая клавиша Ctrl+F (или из меню Вид/Поиск).
  Поиск идет без учета регистра символов.
- Переработана сеть. Теперь клиент лучше реагирует на разрывы соединения, не подвешивает клиент в момент 
  установки соединения.
- Улучшен механизм детекта регулярок в ключевых строках триггеров. Требование к регулярке:
  Символ $ в начале, как признак (в регулярке не учавствует), нет переменных %0-%9,%%, 
  есть характерные для регурярок последовательности: .* [^ ]+ и др. См. справку.
- В историю команд теперь не попадают дубликаты. Последняя команда перемещается на первое место в истории.
- Улучшены плагины prompt и автопереноса(autowrap). Учитываются отброшенные в фильтрах/плагинах строки.
- В api клиента добавлены функции: viewdata:isDropped(), viewdata:deleteAllStrings, viewdata:insertString().

v0.98 beta5
Исправлены ошибки:
- Исправлен плагин bell. Не воспроизводился звук или воспроизводился один раз (не по числу символов 0x7).
- Подстановка переменных в команду (если переменные используются для хранения команды в макросах).
- Неправильные строки в истории мада, если использовалась команда #drop в триггерах.

Новые возможности:
- Если в командной строке есть выделение, то кнопка Up, клиент сначала снимает его, а потом идет по истории.
- Новый плагин voice. Он синтезирует текст в речь. Для этого он использует речевые движки на базе SAPI5. 
Для работы с клиентом рекомендуется RHVoice ( http://tiflo.info/rhvoice/ ). Он очень хорошо говорит по русски.
- Сделана поддержка Lua-триггеров. Теперь можно писать триггера, которые будут обрабатываться в Lua. 
Эта ключевая возможность дает очень важный механизм для написания сложных плагинов - лор, списки аффектов, 
пк-листы, инвентарь и т.д, позволит избавиться от огромного количества одинаковых триггеров, которые отличаются 
незначительно - их можно будет переписать в один триггер.
- Сделана поддержка полноценных регулярных выражений в триггерах, заменах, антизаменах, фильтрах, подсветках.
Теперь триггеры можно писать на диалекте PCRE. Единственное, что необходимо - написать перед регулярным выражением 
символ $. Этот символ не участвует в регулярке, он только сообщает клиенту, что дальше идет регулярное выражение, а 
не обычный триггер, к которому все привыкли. Следует заметить, что триггеры на регулярках не будут работать со строками, 
где нужно чтото вводить (незавершенными строками). Для незавершенных строк есть обычные триггеры с $ в конце.
- Новый плагин - калькулятор PCRE. Данный плагин предназначен для написания и тестирования тут же регулярных выражений.  
С его помощью можно сначала протестировать регулярку, перед чем ее использовать в клиенте. В регулярках очень 
лекго можно сделать ошибку, данный плагин предназначен для их проверки. Плагин выводит результат применения 
регулярки на тестовой строке. Результат отображается в виде списка переменных %x (в какую переменную, какая 
часть строки попадает).

v0.98 beta4
Исправлены ошибки:
- Падение в игровой панели при выборе иконки для кнопки на некоторых компьютерах.
- Неверная выборка параметров, если повторялись переменные в ключевой строке.
- Неправильная работа макросов, если использовалась простая подстановка другой команды.
Новые возможности:
- Добавлен новый плагин status. Создает панель с миниокнами, куда можно выводить дополнительную информацию.
  Он повторяет функционал панели статусов мад-клиента jmc3.
- Между параметрами команды в скобках теперь можно не добавлять пробел.
- Звуковой плагин теперь на лету подхватывает новые звуковые файлы из каталогов клиента по простому имени файла.
- Статус бар поддерживает полоску опыта, если есть только опыт и дсу без максимума (для Аладона).
- В игровую панель добавлен размер кнопок 32x32. Увеличен размер сетки кнопок до 12x12.
- Улучшен импорт из jmc3. Команды #hotkey оборачиваются в скобки, для правильной работы в клиенте, 
  поддерживает импорт #status для соответвующего плагина.
- Улучшена работа командной строки с историей команд, если командная строка работает в режиме без очистки.
- На комбинации кнопок Ctrl+Up, Ctrl+Down подключена история мада. Кнопки открывают историю и перемещают ее на строку вверх/вниз.
- Увеличен максимальный размер буфера строк до 300к, а истории мада до 500к. Чем больше значение, тем больше памяти будет тратиться.
- Сделана задержка скролла, если в этот момент выделяется текст для копирования в буфер обмена.
Новые возможности sdk/api клиента:
- Добавлены методы isViewVisible, showView, hideView, translateColors.

v0.98 beta3
Исправлены ошибки:
- Клиент запинался (похоже на зависание клиента) до ввода новых команд, если приходили гигантские объемы текста от сервера.
- Незагрузка модулей на луа, если в пути к папке, где лежит клиент, есть русские буквы.
- Ошибка с детектом строк, содержащих подстроки с кодом цвета, например mredit мог определяться как красный (red).
- Незагружались триггеры с одинаковой ключевой строкой, но в разных группах. Загружался только самый первый.
 
Новые возможности:
- История команд увеличина до 500.
- Если фильтр (gag) совпадает со всей строкой мада, то удаляется вся строка (не остается пустой строки).
- Теперь триггеры и др. позволяют задавать ключевую строку с повтором переменных, например (%1 приш%1 с %1). 
  В этом случае, как и в jmc3, в переменную попадает подстрока с ее последней позиции в ключевой строке.
  Под это изменение улучшен и плагин импорта из jmc3 (повторы заменяются на %%). Вместо повторов %1 лучше 
  использовать %%, где значение подстроки не важно, т.к. это работает быстрее.
- Написаны новые плагины:
* send - плагин, который позволяет управлять из одного окна всеми запущенными экземплярами клиента.
* clickpad - плагин, позволяющий играть в мад мышкой. Он создает панель игровых кнопок (аналог горячих клавиш), по которым можно кликать.
* sound - плагин, который позволяет проигрывать музыкальный файлы wav,mp3,ogg и другие. Плагин умеет играть музыку по плейлисту, 
  а также умеет записывать звук с микрофона.
* bell - плагин, который проигрывает короткий звук, если от сервера приходит символ ascii 7 (bell). Это позволяет озвучивать 
  отдельные моменты игры.

Новые возможности sdk/api клиента:
- Клиент теперь поддерживает работу с изображениями в форматах jpg,png,bmp,gif,ico.
- Написаны модули-библиотеки (их могут использовать любые плагины) для воспроизведения звука (bass и soundplayer).
- api клиента на c++ переписано под использование utf16 (надоело постоянно гонять в плагинах на с++ строчки с utf8 на utf16).
  Это потребует небольшого переписывания плагинов на с++, поэтому старые плагины на с++ более не совместимы с новым клиентом.
  Далее все api на с++ будет на wchar-ах (utf-16), а скрипты на луа в utf-8. Это не затронуло плагины на луа.
- в api добавлены методы: props.pluginsLogWindow, setCommand, sendCommand, print, vprint, класс изображений Image, 
  render.createImage, render.drawImage, см. справку к sdk, файлы api.h, base.h

v0.98 beta2
Исправлены ошибки:
- При включенной опции 'Только группа' в окне триггеров, макросов и др. в клиент не добавлялся новый элемент.
Новые возможности:
- Дописан плагин 'statusbar' (Полоски здоровья, энергии, маны и опыта). Теперь полоска опыта рисуется на 
основе информации об максимуме опыта на каждом из уровней игры (команда уровни в маде). Данные уровни опыта 
заданы в конфиг-файлах плагина. Это позволяет правильно рисовать опыт и дсу в игре.
- Добавлен режим плавного перемещения (скролла) текста в главном окне клиента (наподобие JMC3). Данный режим 
включается в Общих настройках.
- Доработан диалог при первом запуске клиента. Теперь он позволяет выбрать имя первому создаваемому профилю, 
а также открыть справку к клиенту.
- Перемещен пункт меню с менеджером плагинов из меню Файл в меню Плагины.
- Теперь можно создавать одинаковые триггеры, но в разных группах. Добавился параметр группы в команды #unalias, #unaction и т.д.
- Изменен механизм работы триггеров. Теперь команды триггера срабатывают сразу же после строки, на которую он сработал.
- В справку добавлен раздел FAQ и добавлены некоторые самые частые вопросы. Будет дополняться новыми вопросами.
- Изменился внешний вид отображения (другие скобки) триггеров, макросов и т.д., при использовании команд #alias, #action и т.д.
- При копировании текста в буфер обмена теперь помимо кнопки Shift (чтобы начать копирование) можно нажимать правую кнопку мыши. 
Это сделано для владельцев ноутбуков, использующих тачпад.
- Добавился профиль для мада Виртустан.

v0.98 beta1
Исправлены ошибки:
- Переписан весь парсер команд для окончательного решения проблемы со скобками и кавычками, как части текстов (пока все хорошо).
- Исправлена ошибка (#output,#woutput) с ошибочным распознаванием части текста с цифрами, как код цвета. Изменился шаблон 
цвета с цифрами(см. справку)
- Восстановлена работа механизма Undo (Ctrl+Z) для строки ввода команд. До этого Undo не работало, как задумывалось.
- Исправлены ошибки в плагине tray, которые могли приводить к сбоям в работе клиента и плагина. В неправильной
последовательности отображались сообщения при их большом количестве. На некоторых компьютерах сообщения могли не отображаться.
- Исправлена ошибка, когда при смене профиля сбивалась конфигурация output-окон.
- Исправлены ошибки в плагине статусбара, когда он мог не обновляться во время боя, сделаны небольшие в нем улучшения.

Новые возможности:
- Теперь для незавершенных строк сделаны отдельные триггеры (см. справку или секцию Важно).
- Теперь для копирования в буфер обмена можно выделить произвольный кусок текста в окне клиента.
- Сделана поддержка многострочной вставки из буфера обмена windows. Данные строчки не попадают в историю команд
(сделано специально, чтобы не забивать историю). Вставка из буфера теперь поддерживает символ табуляции. 
- Подключена стандартная комбинация клавиш Shift+Insert для вставки текста из буфера обмена (в дополнение к Ctrl+V).
- Автоподстановка теперь поддерживает и системные команды.
- Строка команд, теперь по кн. вниз очищает строку ввода. История команд теперь поддерживает перебор команд с учетом
первых введенных символов, автоподстановка по истории команд начинает теперь перебор с последних, недавно набранных команд.
- Улучшен плагин переподключения к серверу, при обрыве. Теперь он имеет настройку - число попыток подключится, умеет
мигать окном клиента, если произошел обрыв и переподключится не удалось.
- Улучшен плагин автопереноса. Теперь он переносит строки по словам (если возможно, иначе разбивает слово). У него также
появилась настройка автоматического определения максимальной длины строки по ширине окна. Он также умеет переформатировать
строки под другую ширину с помощью команды #linewidth окно ширина (команда не в списке автоподстановки, нужно вводить 
полностью руками). Теперь данный плагин работает для всех типов информации (игровые данные, логи и т.д.).
- Добавлена команда #wait для выполнения команд с задержкой. Плагин импорта из JMC3 поддерживает импорт данной команды.
- Таймерам теперь можно задавать период с дробными долями секунды.
- Теперь параметры команды #hide не попадут в логи и на экран клиента даже через показ выполняемых системных команд.
- Добавлен модуль rnd для генерации случайных целых чисел, вещественных чисел, а также строк.
- В api клиента добавлены функции updateView, flashWindow, getViewSize; viewdata.getBlockPos, 
viewdata.setNext(setPrev,isNext,isPrev), string.strall, string.strstr. См. справку к sdk.

v0.97
Исправлены ошибки:
- Неправильная обработка разделителя команд, если он являлся частью текста (разделитель в скобках).
- Исправлены ошибки в работе переменных, добавлены переменные $DATA,$TIME,$DAY,$MONTH,$YEAR,$HOUR,$MINUTE,$SECOND,
$MILLISECOND,$TIMESTAMP.
- Переработан механизм разбора команд на параметры, чтобы исправить проблему использования скобок внутри строк как
части строки, а не как управляющий символ.

Новые возможности:
- Усовершенствован плагин импорта из JMC3.
- Усовершенствован плагин автоперенса. Теперь он работает и с дополнителными output-окнами.
- Добавлена поддержка протокола MSDP (mud server data protocol). Он позволяет серверу передавать дополнительные данные,
которые не попадают в игровое окно клиента, но могут использоваться плагинами, например для таких улучшений как карта 
(в разработке).
- Добавлена поддержка протокола MTTS (terminal type). По этому протоколу сервер может получить информацию о возможностях
клиента.
- Поддержка серверной палитры (OSC color palette). Сервер может задать свои первые 16 цветов палитры.
- Добавлен новый плагин tray. Он отображает всплывающие подсказки в правом нижнем углу рабочего стола.
Плагин предназначен для оповещений о различных событиях в игре, даже когда клиент свернут в панель задач и др.
- Теперь работа с окном настроек игры стала более удобной. Клиент теперь запоминает последнее окно, с которым вы работали,
а также с каким триггером, макросои и т.д. Это очень удобно, если нужно настраивать большое количество триггеров. Добавлена
кнопка Заменить, если нужно поменять текущий триггер на новый. Добавлена кнопка Новый(-ая) для создания нового триггера.
Плюс добавлена горячая кнопка Shift+F12 для быстрого вызова окна настроек.
- Теперь клиент легко и удобно обновлять. Достаточно перезаписать файлы клиента новыми из архива. Текущие профили не будут
стерты или перезаписаны.
- Добавлены в api методы activated, deactivated, props.activated - для отлеживания статуса главного окна клиента (в фоновом 
режиме работает клиент, т.е. свернут/на заднем фоне или нет), также добавлены: строки utf8, настройки клиента props, 
протокол msdp.
- Теперь история мада открывается сразу же по кнопке PageUp.
- Добавлена новая команда #math (для поддержки совместимости с JMC3).

v0.96
Основной упор в данной версии сделан на развитие системы плагинов в клиенте, написание новых плагинов. Ошибки такжеисправлялись.
Исправлены ошибки:
- Решена проблема разрыва строк. Требуется режим га на сервере или настроеная prompt-строка мада.
  Клиент старается и без режима га работать правильно, но возможны иногда сбои (разрывы).
- Ошибка некорректной стыковки плавающего окна в нижней части окна клиента (под строку команд).
- Некорректное поведение клиента при повторных подключениях/отключениях, если идет установка соединения.
- Все другие найденные ошибки и неточности в работе клиента (например: неполное соответствие api функций 
  клиента заявленным возможностям).
- Усовершенствован плагин импорта из Jmc3.

Новые возможности:
- Написаны новые плагины: Автоподключения при разрыве, подсветка команд, графические гистограммы для здоровья, маны, энергии и опыта.
- Добавлена возможность в клиенте создавать окна-панели (помимо плавающих окон). Они создаются определенного размера и 
  они располагаются на одной из сторон клиента. Изменять сторону расположения и размер нельзя. В данную панель (как и в плавающее окно) 
  можно подключить свое окно и делать что хочешь, а можно рисовать и писать тексты встроенными в клиент возможностями в Lua-скрипте.
  Данные панели могут использоватся для некоторых плагинов, где они будут более подходящим решением.
- Расширение и развитие api клиента для работы плагинов:
  -- добавлены функции runCommand, loadTable, saveTable, createPanel, createPcre, log, terminate.
  -- добавлены объекты/модули: подключена стандартная библиотека math, объект props - свойства мад клиента (цвета, подключение и т.д), 
  viewdata.find - поиск строк по регулярке, pcre - работа с регулярками прямо в скриптах, render - рисование и тексты для 
  визуализации простых плагинов на Lua.
- Новые методы-события для плагинов: connect, disconnect - информация о подлючении/обрыве. Методы before и after переделаны на 
  получение данных в виде таблицы (команда + параметры), чтобы не разбирать команду в плагинах.

Для уже созданных плагинов возможно придется сделать перекомпиляцию с новой версией SDK, чтобы они заработали.
Возможно понадобятся несложные переделки кода (так как в api на C++ есть изменения в отдельных блоках кода).

Информацию обо всем можно найти в справке к клиенту. Она обновлена согласно новым изменениям.

v0.95
Исправлены ошибки:
- обрыв соединения, при выключении сжатия mccp.
- ошибка работы с сетью, в результате которой игровая информация отображалась с небольшой задержкой.
- ошибка в коде, отвечающего за копирования текста мада в буфер обмена. Могли происходить падения клиента.
Добавлен плагин autowrap (автоперенос длинных строк).
Расширен api для написания плагинов: во viewdata появились методы copyblock, newstring. Справка с правилами работы со строками.
Добавлена команда #password, для безопасности паролей.
Добавлена команда #message. Включение/отключение уведомлений об изменений триггеров и др. элементов.
Новые иконки на тулбаре клиента.

v0.94
Исправлены ошибки:
- Теперь перевод строк мада в клиенте работает правильно.
  Где нужно, текст начинается с новой строки.
  Это работает благодаря поддержке мад-серверами и клиентом IAC GA маркера.
  Чтобы перевод строки работал правильно, нужно включить в маде режим га (игровая команда 'реж га').
  Если мад не поддерживает IAC GA, то нужно задать шаблон prompt-строки (см. справку).
- Ошибка неправильной отрисовки строк мада, если у них статус мигания (рамка) и они выделены для 
  копирования в буфер обмена.
- Неудалялись кнопки плагинов с тулбара, при их выгрузке.
Была убрана стандартная строка состояния, на нее переехала командная строка (экономия места).
Добавлен в api функционал, который позволяет работать с IAC GA плагинам.
Переделан плагин prompt. Теперь у него нет настроек, так как он работает через новое api клиента (IAC GA).
Переделано окно About на более информативное, с информацией о возможностях клиента.
Теперь, только при первом запуске клиента на компьютере, будет отображаться окно About.

v0.93
Исправлены ошибки:
- Попадание в командную строку символов \r\n из буфера обмена, в результате чего клиент неправильно их обрабатывал.
- Неверная обработка составных команд, если использовались переменные ($var).
Расширен api/sdk клиента (добавлены функции barcmd, historycmd).
Написан плагин для фильтрации команд (чтобы они не попадали в историю). Фильтруются с,ю,з,в,вв,вн.
Написан первый модуль-библиотека для плагинов system (будет расширяться функциями).
Добавлена поддержка копирования отдельных слов в буфер обмена из мад-окна.
Улучшен механизм работы Undo (теперь запоминаются последние 30 изменений).
Расширена командная строка. Теперь длина команды не ограничена.
Известные ошибки:
- Отдельные тексты мада начинаются не с новой строки, а продолжают Prompt-строку.

v0.92
Исправлены ошибки:
- Неправильная обработка триггеров, с символом $
- Импорт из Jmc3 (в некоторых случаях мог происходить крэш).
- Добавлена поддержка сокращенных вариантов команд.
- Увеличен лимит в размере истории команд до 500.
- Добавлен пункт меню, который ведет на сайт программы с обновлениями.

v0.91
Исправлены ошибки:
- Проблема с подключением к sowmud.ru (Сове)
- Проблема с использованием символа | в триггерах и др. элементах
- Проблема с обрезанием пробелов в конце строки (если строка заканчивается пробелами)
- Исправлена автоподстановка из истории команд
- Добавлена комбинация Ctrl+A - выделяет все содержимое командной строки.

v0.9
Стартовая версия для начала публичного тестирования.
Работает весь основной функционал.